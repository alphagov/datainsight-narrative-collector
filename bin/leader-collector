#!/usr/bin/env ruby

require 'rubygems'
require 'gli'

require_relative '../src/leader'

include GLI

program_desc 'Collect the content for the masthead'

version 0.1

desc 'Print out the collected content'
command :print do |c|
  c.action do |global_options, options, args|
    puts Collectors::LeaderCollector.new.print 
  end
end

desc 'Publish the collected content to the queue'
command :broadcast do |c|
  c.action do |global_options, options, args|
    Collectors::LeaderCollector.new.broadcast
  end
end

exit GLI.run(ARGV)
